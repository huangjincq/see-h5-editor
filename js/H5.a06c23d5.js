(function(e){function t(t){for(var r,i,c=t[0],u=t[1],s=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={H5:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(){return Promise.resolve()},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;a.push([1,"chunk-vendors","chunk-common"]),n()})({"0c73":function(e,t,n){"use strict";var r=n("2414"),o=n.n(r);o.a},1:function(e,t,n){e.exports=n("82bb")},"1f2a":function(e,t,n){"use strict";var r=n("808a"),o=n.n(r);o.a},2414:function(e,t,n){},"423e":function(e,t,n){"use strict";var r=n("99c8"),o=n.n(r);o.a},"5ec0":function(e,t,n){},"6db1":function(e,t,n){"use strict";var r=n("5ec0"),o=n.n(r);o.a},"808a":function(e,t,n){},"82bb":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"App"},c=i,u=(n("423e"),n("2877")),s=Object(u["a"])(c,o,a,!1,null,null,null),l=s.exports,f=n("2f62"),d=n("4360"),p={},g={},h={},m={};r["default"].use(f["a"]);var b=new f["a"].Store({state:p,getters:m,actions:g,mutations:h,modules:{shared:d["a"]}}),v=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-page"},[n("div",{staticClass:"main-page-content",class:e.pageData.disableImageLongTouch?"disable-image-longtouch":"",style:e.getCommonStyle(Object.assign({},e.currentPage.commonStyle,{top:e.pageTop,height:e.currentPage.commonStyle.height||e.pageData.height,width:e.currentPage.commonStyle.width||e.pageData.width,position:"relative"}),e.scalingRatio)},e._l(e.currentPage.elements,(function(t){return n("h5-node",{key:t.brotherUuid,attrs:{nodeInfo:t,currentPageIndex:e.currentPageIndex},on:{"toggle-status":e.setCurrentPage}})})),1),e.loading?n("van-loading",{staticClass:"loading"},[e._v("加载中")]):e._e()],1)},O=[],P=(n("8e6e"),n("456d"),n("ac6a"),n("20d6"),n("e7e5"),n("d399")),w=n("ade3"),j=(n("ac1e"),n("543e")),_=n("33c3"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"h5-node",style:e.getCommonStyle(e.nodeInfo.commonStyle,e.scalingRatio),on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[n(e.nodeInfo.elName,e._b({tag:"component",staticClass:"h5-node-info",attrs:{defaultStyle:e.getCommonStyle(e.nodeInfo.commonStyle,e.scalingRatio)},scopedSlots:e._u([e.nodeInfo.elements&&e.nodeInfo.elements.length>0&&e.nodeInfo.hasSlot?{key:"default",fn:function(t){var r=t.item;return e._l(e.nodeInfo.elements,(function(t){return n("h5-node",e._g({key:t.brotherUuid,staticClass:"h5-node-info-wrapper",attrs:{nodeInfo:t,scope:r,currentPageIndex:e.currentPageIndex}},e.$listeners))}))}}:null],null,!0)},"component",Object.assign({},e.computedProps,{uuid:e.nodeInfo.brotherUuid,currentPageIndex:e.currentPageIndex}),!1))],1)},I=[],S=(n("96cf"),n("1da1")),C=(n("c5f6"),n("6b54"),n("1afe")),k=n("6912"),D=n("d326"),$=(n("5df3"),n("1c4c"),n("7f7f"),n("ac4d"),n("8a81"),n("bc3a")),E=n.n($),T=n("986e"),R=n("ed08");function M(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=V(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function V(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N={mounted:function(){},methods:{_event_link:function(e){return new Promise((function(t){e.url&&(window.location.href=e.url),t()}))},_event_share:function(){return new Promise((function(e){window.alert("分享"),e()}))},_event_submitForm:function(e){var t=this;return new Promise((function(n){var r,o=e.url,a={},i=M(t.$children);try{for(i.s();!(r=i.n()).done;){var c=r.value;if(c.element.isForm){if(c.$children[0].validate&&!c.$children[0].validate())return;var u=c.element.propsValue.text_name.value,s=c.$children[0].value;a[u]=s}}}catch(l){i.e(l)}finally{i.f()}E.a.post(o,a).then((function(e){console.log(e),n(e)}))}))},_event_onClick:function(e,t){var n=this;return new Promise((function(r){e.url&&Function('"use strict";return ('+e.url+")")()(t,n),r()}))},_event_togglePage:function(e){var t=this;return new Promise((function(n){"function"===typeof t.setCurrentPage&&t.setCurrentPage(e.url),n()}))},_event_openModal:function(e){return new Promise((function(t){e.uuid&&(console.log(e),T["a"].$emit("openModal",{uuid:e.uuid})),t()}))},_event_copyText:function(e){e.text&&Object(R["a"])(e.text)&&Object(P["a"])("复制成功")}}},H=n("f121");function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(w["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={name:"h5-node",mixins:[D["a"],N],components:q({},k["b"]),data:function(){return{getCommonStyle:_["a"].getCommonStyle,scalingRatio:1,pageData:{height:"",width:"",pages:[]},pages:[],currentPage:{commonStyle:{}},pageTop:0,loading:!0,updateKey:"none"}},computed:{computedProps:function(){var e={},t={};for(var n in this.nodeInfo.propsValue)"[object Object]"===Object.prototype.toString.call(this.nodeInfo.propsValue[n])?t[n]=this.nodeInfo.propsValue[n].value:t[n]=this.nodeInfo.propsValue[n],e[n]=this.renderString(t[n],q(q(q({},this.globalVariable),this.scope),this.sharedData));return e},visible:function(){var e=this.nodeInfo,t=e.visible,n=e.invisible;if("string"!==typeof t&&"boolean"===typeof n)return!n;var r=void 0;try{r=new Function("props","scope",'"use strict";'+t)(this.computedProps,this.scope)}catch(o){}return r}},props:{nodeInfo:{type:Object,require:!0},scope:{type:Object,require:!0},currentPageIndex:{type:Number,default:0}},mounted:function(){var e=this,t=this.$el.style.cssText,n=this.nodeInfo.animations||[];this.scalingRatio=document.body.clientWidth/H["a"].canvasH5Width,Object(C["a"])(this.$el,n,!1,(function(){e.$el.style.cssText=t}))},methods:{handleClick:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.nodeInfo.events,n=this.nodeInfo,r=0,o=t.length;case 3:if(!(r<o)){e.next=13;break}if(!this["_event_"+t[r].type]){e.next=10;break}if("togglePage"!==t[r].type){e.next=8;break}return this.$emit("toggle-status",t[r].url),e.abrupt("continue",10);case 8:return e.next=10,this["_event_"+t[r].type](t[r],n,this.pageData);case 10:r++,e.next=3;break;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},L=F,W=(n("1f2a"),Object(u["a"])(L,x,I,!1,null,"30bd8c9a",null)),J=W.exports;function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(w["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={name:"engineH5Long",components:{H5Node:J,VanLoading:j["a"]},mixins:[],computed:z({},Object(f["c"])(["sharedData"])),data:function(){return{id:this.$route.query.id,getCommonStyle:_["a"].getCommonStyle,scalingRatio:1,pageData:{height:"",width:"",pages:[]},pages:[],currentPage:{commonStyle:{}},currentPageIndex:0,pageTop:0,loading:!0}},mounted:function(){console.log(this.$route.query),this.scalingRatio=document.body.clientWidth/H["a"].canvasH5Width;var e=R["c"].getLocalData("project_data_".concat(this.id));if(console.log(e),!e)return Object(P["a"])("项目数据未保存，请先保存"),void(this.loading=!1);this.pageData=e,this.pages=this.pageData.pages||[],this.setCurrentPage(this.pages[this.currentPageIndex].uuid),this.loading=!1},methods:{setCurrentPage:function(e){if(this.currentPageIndex=this.pages.findIndex((function(t){return t.uuid===e})),this.currentPageIndex>-1){this.currentPage=this.pages[this.currentPageIndex];var t=this.currentPage.commonStyle;Object.keys(t).forEach((function(e){document.documentElement.style[e]=t[e]}))}else Object(P["a"])("该状态不存在")}}},G=B,Q=(n("0c73"),n("6db1"),Object(u["a"])(G,y,O,!1,null,"7e834f3a",null)),X=Q.exports;r["default"].use(v["a"]);var Y=new v["a"]({routes:[{path:"/:activity_id?",name:"page",component:X}]}),Z=n("1d45"),ee=n("abf8");n("77ed");r["default"].config.productionTip=!1,r["default"].mixin(D["a"]),r["default"].mixin(Z["a"]),r["default"].prototype.RUNTIME_ENV=ee["b"],window.vm=new r["default"]({store:b,router:Y,render:function(e){return e(l)}}).$mount("#app")},"99c8":function(e,t,n){}});